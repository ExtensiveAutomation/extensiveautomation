properties:
  descriptions:
    author: admin
    requirement: REQ_01
    summary: Just a basic sample.
  parameters:
  - description: ''
    name: DEBUG
    scope: local
    type: bool
    value: 'False'
  - description: ''
    name: TIMEOUT
    scope: local
    type: float
    value: '1.0'
testsuite: |2-

  class TESTCASE_TEMPLATE_COMPARE_01(TestCase):
      def description(self):
          # testcase description
          self.setPurpose(purpose="Testcase sample")

          # steps description
          self.step1 = self.addStep(expected="result expected", description="step description", summary="step sample", enabled=True)
      def prepare(self):
          # adapters and libraries
          pass
      def cleanup(self, aborted):
          pass
      def definition(self):
          # starting initial step
          if self.step1.isEnabled():
              self.step1.start()
              self.step1.setPassed(actual="success")

              # message
              msg_layer = TestTemplates.TemplateLayer(name="test")
              msg_layer.addKey("toto", "test")

              # tpl expected
              tpl_layer = TestTemplates.TemplateLayer(name="test")
              tpl_layer.addKey(TestOperators.Contains(needle="toto"), TestOperators.Any())

              tpl2 = TestTemplates.Template(parent=self)
              ret =tpl2.compare(template=msg_layer, expected=tpl_layer)

              self.info( "%s" % str(ret) )

              self.step1.setPassed(actual="success")
  class TESTCASE_TEMPLATE_COMPARE_INVALID_01(TestCase):
      def description(self):
          # testcase description
          self.setPurpose(purpose="Testcase sample")

          # steps description
          self.step1 = self.addStep(expected="result expected", description="step description", summary="step sample", enabled=True)
      def prepare(self):
          # adapters and libraries
          pass
      def cleanup(self, aborted):
          pass
      def definition(self):
          # starting initial step
          if self.step1.isEnabled():
              self.step1.start()
              self.step1.setPassed(actual="success")

              # message
              msg_layer = TestTemplates.TemplateLayer(name="test")
              msg_layer.addKey("toto", "test")

              # tpl expected
              tpl_layer = TestTemplates.TemplateLayer(name="test")
              tpl_layer.addKey(TestOperators.Contains(needle="toto2"), TestOperators.Any())

              tpl2 = TestTemplates.Template(parent=self)
              ret =tpl2.compare(template=msg_layer, expected=tpl_layer)

              self.info( "%s" % str(ret) )

              self.step1.setPassed(actual="success")


  TESTCASE_TEMPLATE_COMPARE_01(suffix=None).execute()
  TESTCASE_TEMPLATE_COMPARE_INVALID_01(suffix=None).execute()
